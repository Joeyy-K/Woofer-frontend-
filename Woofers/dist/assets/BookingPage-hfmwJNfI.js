import{r as o,V as x,b as s,j as e,a as g}from"./index-w1UzHfgm.js";import{Q as b,B as i}from"./ReactToastify-SnbspBe0.js";const j=()=>{const[a,d]=o.useState(""),[n,l]=o.useState(""),[r,c]=o.useState(""),{vetId:p}=o.useContext(x);let m=s.get("csrftoken");const u=async()=>{try{const t=await fetch(`${g}/appointments/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s.get("userToken")}`,"X-CSRFToken":m},body:JSON.stringify({veterinary:p,date:a,time:n,reason_for_visit:r})});if(!t.ok)throw new Error("Failed to create appointment");const h=await t.json();i.success("Appointment Created!")}catch(t){console.error("Error:",t),i.error("Failed to Create Appointment!")}};return e.jsxs("div",{className:"max-w-md mx-auto mt-10 mb-24 bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsx("div",{className:"items-center justify-center",children:e.jsx(b,{})}),e.jsx("div",{className:"text-2xl py-4 px-6 bg-indigo-600 text-white text-center font-bold uppercase",children:"Book an Appointment"}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),u()},className:"py-4 px-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Date"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"date",value:a,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Time"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time",value:n,onChange:t=>l(t.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Reason For Visit"}),e.jsx("textarea",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-m rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-indigo-500 dark:focus:border-indigo-500 h-40",type:"text",value:r,onChange:t=>c(t.target.value),required:!0})]}),e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("button",{className:"bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-500 focus:outline-none focus:shadow-outline",type:"submit",children:"Book Appointment"})})]})]})};export{j as default};
